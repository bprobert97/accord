@startuml
skinparam rectangle {
  BackgroundColor<<public>> LightBlue
  BackgroundColor<<internal>> White
  BorderColor Black
}

rectangle process_measurement <<public>> {
}

rectangle _timestamp_to_seconds <<internal>>
rectangle _can_initialise <<internal>>
rectangle _initialise_state <<internal>>
rectangle _weak_prior_result <<internal>>
rectangle _predict_to_time <<internal>>
rectangle _predict <<internal>>
rectangle _update_noise_covariance <<internal>>
rectangle _update_with_measurement <<internal>>
rectangle _build_measurement_model <<internal>>
rectangle _build_range_model <<internal>>
rectangle _build_azel_model <<internal>>
rectangle _build_radec_model <<internal>>
rectangle _ensure_covariance <<internal>>

process_measurement --> _timestamp_to_seconds
process_measurement --> _can_initialise
process_measurement --> _initialise_state
process_measurement --> _weak_prior_result
process_measurement --> _predict_to_time
process_measurement --> _update_with_measurement

_predict_to_time --> _predict
_predict --> _update_noise_covariance

_update_with_measurement --> _build_measurement_model
_build_measurement_model --> _build_range_model
_build_measurement_model --> _build_azel_model
_build_measurement_model --> _build_radec_model
_build_measurement_model --> _ensure_covariance
@enduml
